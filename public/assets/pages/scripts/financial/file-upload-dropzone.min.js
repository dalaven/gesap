var DropZone=function(e,n){var o=function(e,n){Dropzone.autoDiscover=!1,$("#dropzone").dropzone({url:e,addRemoveLinks:!0,parallelUploads:1,maxFiles:1,autoProcessQueue:!1,dictRemoveFile:"Remover",maxFileSize:1e3,dictResponseError:"Ha ocurrido un error en el server",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},acceptedFiles:".pdf",init:function(){var e=document.querySelector("#submit"),o=this;o.on("maxfilesexceeded",function(e){o.disable(),this.removeFile(e)}),o.on("addedfile",function(e){e.type.match(/image.*/)||o.emit("thumbnail",e,n)}),o.on("deletedfile",function(e){o.enable()}),e.addEventListener("click",function(e){o.files.length>0&&$("#financial-form-files").valid()?o.processQueue():swal({title:"Advertencia",text:"Debes cargar un sólo archivo y seleccionar una opción",buttonsStyling:!1,confirmButtonClass:"btn btn-success",type:"warning"})}),o.on("sending",function(e){$.blockUI({message:'<i class="fa fa-refresh fa-spin fa-3x fa-fw"></i><h3> Procesando Archivo </h3>',css:{border:"none",padding:"20px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.5,color:"#fff"}})}),o.on("complete",function(e){o.enable(),o.removeFile(e)}),o.on("queuecomplete",function(e){o.enable(),UIToastr.init("success","Almacenado","El archivo se ha cargado satisfactoriamente. Un momento mientras se procesa.")})},complete:function(e){$.unblockUI({onUnblock:function(){"success"==e.status&&swal({title:"Carga Satisfactoria",text:"El archivo "+e.name+" se ha procesado satisfactoriamente.",buttonsStyling:!1,confirmButtonClass:"btn btn-success",type:"success"})}})},error:function(e){swal({title:"¡Ocurrió un Error!",text:"El archivo "+e.name+" no se pudo cargar. Intenta nuevamente.",buttonsStyling:!1,confirmButtonClass:"btn btn-danger",type:"error"})}})};return{init:function(e,n){o(e,n)}}}();